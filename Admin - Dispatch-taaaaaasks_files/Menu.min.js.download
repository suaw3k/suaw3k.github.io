"use strict";function asyncGeneratorStep(c,g,j,b,h,f,i){try{var a=c[f](i);var e=a.value}catch(d){j(d);return}if(a.done){g(e)}else{Promise.resolve(e).then(b,h)}}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(g,f){var h=a.apply(b,c);function e(i){asyncGeneratorStep(h,g,f,e,d,"next",i)}function d(i){asyncGeneratorStep(h,g,f,e,d,"throw",i)}e(undefined)})}}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]"){return Array.from(a)}}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var c=0,b=new Array(a.length);c<a.length;c++){b[c]=a[c]}return b}}(function(){var b=_toConsumableArray(document.querySelectorAll(".menu-header-item"));var c=document.getElementById("collapse-menu-items");function d(e,f){return a.apply(this,arguments)}function a(){a=_asyncToGenerator(regeneratorRuntime.mark(function e(f,i){var h;return regeneratorRuntime.wrap(function g(j){while(1){switch(j.prev=j.next){case 0:h="/ajax/admin/admin_menu.php";return j.abrupt("return",fetch(h,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin",body:"action=".concat(f,"&menuItemId=").concat(i)}));case 2:case"end":return j.stop()}}},e,this)}));return a.apply(this,arguments)}Array.from(document.getElementsByClassName("inner-menu-items")).forEach(function(e){e.addEventListener("click",function(j){if(j.target.matches(".favourite-menu-item")){var f="removeUserFavourite";var h=j.target;var i=parseInt(j.target.parentNode.getAttribute("data-favourite-id"));var l=j.target.parentNode;var k=_toConsumableArray(document.getElementById("menu-favourites").getElementsByTagName("li")).map(function(m){return parseInt(m.getAttribute("data-favourite-id"))===i}).includes(true);if(h.classList.contains("fa-star")&&e.id==="menu-favourites"){l.remove()}else{h.classList.remove("fa-star-o");h.classList.add("fa-star");f="updateUserFavourite"}k===false?document.getElementById("menu-favourites").append(l.cloneNode(true)):"";d(f,i);if(f==="removeUserFavourite"){var g=document.querySelector('.admin-menu-item[data-favourite-id="'.concat(i,'"]'));g.querySelector(".favourite-menu-item").classList.remove("fa-star");g.querySelector(".favourite-menu-item").classList.add("fa-star-o")}}})});b.forEach(function(e){e.addEventListener("click",function(){e.querySelector(".fa-chevron-right").classList.toggle("rotate-90");e.nextElementSibling.style.display=e.nextElementSibling.style.display==="none"?"block":"none"})});if(c!==null){c.addEventListener("click",function(){var e=document.querySelectorAll(".inner-menu-items");e.forEach(function(f){f.parentElement.querySelector(".fa-chevron-right").classList.toggle("rotate-90");f.style.display=f.style.display==="none"||f.style.display===""?"block":"none"})})}})();