"use strict";function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(d,b){for(var a=0;a<b.length;a++){var c=b[a];c.enumerable=c.enumerable||false;c.configurable=true;if("value" in c){c.writable=true}Object.defineProperty(d,c.key,c)}}function _createClass(c,a,b){if(a){_defineProperties(c.prototype,a)}if(b){_defineProperties(c,b)}return c}var Ava=function(){function f(){_classCallCheck(this,f)}_createClass(f,[{key:"init",value:function i(){this.toggleAva();this.onClickOrderStatus();this.onClickProductSearch();this.searchForAnIssue();this.searchForAProduct()}},{key:"toggleAva",value:function g(){var k=document.getElementById("ava-btn");var j=document.getElementById("ava");k.addEventListener("click",function(){j.style.display=j.style.display==="none"||j.style.display===""?"block":"none"})}},{key:"debounce",value:function h(l,k){var m=null;return function j(){var n=this;clearTimeout(m);m=setTimeout(function(){l.apply(n)},k)}}},{key:"searchForAProduct",value:function b(){var m=document.getElementById("product-search");var k=document.getElementById("product-results");var l=new XMLHttpRequest();m.addEventListener("input",this.debounce(function j(){if(this.value.length>3){l.open("POST","/ajax/admin/ava.php");l.onreadystatechange=function(){if(l.readyState===4&&l.status===200){var n="";JSON.parse(l.responseText).forEach(function(o){n+=o});document.getElementById("product-results").innerHTML=n;document.getElementById("product-results").style.display="block"}else{document.getElementById("product-results").style.display="none"}};l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.send("type=productSearch&searchTerm=".concat(this.value.trim()));k.style.display="block"}else{k.style.display=""}},500))}},{key:"searchForAnIssue",value:function e(){var k=document.getElementById("search-for-answers-input");var m=document.getElementById("search-box-results");var j=document.getElementById("search-term");var n=new XMLHttpRequest();k.addEventListener("input",this.debounce(function l(){if(this.value.length>3&&this.value.length<35){n.open("POST","/ajax/admin/ava.php");n.onreadystatechange=function(){if(n.readyState===4&&n.status===200){var o="";JSON.parse(n.responseText).forEach(function(p){o+=p});document.getElementById("search-results").innerHTML=o}};n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");n.send("type=knowledgeBase&searchTerm=".concat(this.value.trim()));j.innerHTML=this.value.trim();m.style.display="block"}else{j.innerHTML="";m.style.display=""}},250))}},{key:"onClickOrderStatus",value:function c(){var n=document.getElementById("order-status-option");var l=document.getElementById("order-status-content");var j=document.getElementById("product-search-content");var o=document.getElementById("order-status-chevron");var m=document.getElementById("product-search-chevron");var k=document.getElementById("search-box-results");n.addEventListener("click",function(){l.style.display=l.style.display==="none"||l.style.display===""?"block":"none";j.style.display="none";k.style.display="none";o.classList.toggle("rotate-90");m.classList.remove("rotate-90")})}},{key:"onClickProductSearch",value:function d(){var j=document.getElementById("product-search-option");var k=document.getElementById("product-search-content");var m=document.getElementById("order-status-content");var o=document.getElementById("order-status-chevron");var n=document.getElementById("product-search-chevron");var l=document.getElementById("search-box-results");j.addEventListener("click",function(){k.style.display=k.style.display==="none"||k.style.display===""?"block":"none";m.style.display="none";l.style.display="none";n.classList.toggle("rotate-90");o.classList.remove("rotate-90")})}}],[{key:"searchOrderStatus",value:function a(){var j=document.getElementById("order-status").value.trim();var k=new XMLHttpRequest();if(j.length>5&&j.match(/^[0-9]+$/)!=null){k.open("POST","/ajax/admin/ava.php");k.onreadystatechange=function(){if(k.readyState===4&&k.status===200){var n=JSON.parse(k.responseText);document.getElementById("order-number-searched").href="/ad_index.php?page=ordershow&&number=".concat(j);document.getElementById("order-number-searched").innerText=j;document.getElementById("order-status-result").innerText=n.status;document.getElementById("order-search-created").innerText=n.created;document.getElementById("order-search-processed").innerText=n.processed;document.getElementById("order-search-picked").innerText=n.pick_date;document.getElementById("order-search-build-date").innerText=n.build_date;document.getElementById("order-search-testing").innerText=n.test_date;document.getElementById("order-search-type").innerText=n.type.charAt(0).toUpperCase()+n.type.slice(1);for(var l=0;l<document.getElementsByClassName("order-status-inner-content").length;l+=1){document.getElementsByClassName("order-status-inner-content")[l].style.display="block"}document.getElementById("order-status").text=""}else{for(var m=0;m<document.getElementsByClassName("order-status-inner-content").length;m+=1){document.getElementsByClassName("order-status-inner-content")[m].style.display="none"}}};k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");k.send("type=orderStatus&orderNo=".concat(j))}}}]);return f}();var avaClient=new Ava();avaClient.init();